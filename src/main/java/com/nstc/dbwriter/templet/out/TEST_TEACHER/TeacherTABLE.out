DECLARE
    CNT INTEGER;
BEGIN
    SELECT COUNT(0) INTO CNT FROM USER_ALL_TABLES
    WHERE TABLE_NAME = UPPER('TEST_TEACHER');
    IF CNT = 0 THEN
    EXECUTE IMMEDIATE 'CREATE TABLE TEST_TEACHER(
        TEACHER_ID NUMBER,
        TEACHER_NAME VARCHAR2(32),
        TEACHER_AGE NUMBER,
        TEACHER_BIRTH DATE
        )';
    END IF;
END;
/

COMMENT ON TABLE TEST_TEACHER IS '测试教师表';
/

COMMENT ON COLUMN TEST_TEACHER.TEACHER_ID IS '教师主键';
/
COMMENT ON COLUMN TEST_TEACHER.TEACHER_NAME IS '教师姓名';
/
COMMENT ON COLUMN TEST_TEACHER.TEACHER_AGE IS '教师年龄';
/
COMMENT ON COLUMN TEST_TEACHER.TEACHER_BIRTH IS '教师生日';
/

DECLARE
    CNT INTEGER;
BEGIN
    SELECT COUNT(0) INTO CNT FROM USER_CONSTRAINTS
    WHERE CONSTRAINT_NAME = UPPER('TEST_TEACHER_PK');
    IF CNT = 0 THEN
    EXECUTE IMMEDIATE 'ALTER TABLE TEST_TEACHER ADD CONSTRAINT TEST_TEACHER_PK PRIMARY KEY(TEACHER_ID)';
    END IF;
END;
/
